# Circle.yml For stable.world
machine:
  python:
    version: 3.5.1

dependencies:
  pre:
    - sudo apt-get update
    - pip install --upgrade pip setuptools wheel
  override:
    - pip install .
    - pip install -r test-requirements.txt
    - python setup.py develop

test:
  override:
    - py.test --junitxml $CIRCLE_TEST_REPORTS/py.test.xml
  post:
    - bash -xe ./makeapp.sh
    - cp ./stable.world $CIRCLE_ARTIFACTS
    - python setup.py sdist bdist_wheel
    - cp ./dist/* $CIRCLE_ARTIFACTS
